<!-- Retour BTN -->
<button type="button" class="btn btn-active btn-neutral mt-5 text-xl" (click)="goBack()"> <- Retour</button>
<div class="flex flex-row">
  <div class="mt-10 ml-1.5 bg-base-300 rounded-2xl bg-base-300 items-center p-10 mr-10">

  @if (hero) {
    <!-- Interface de slection de hero -->
    <div class="flex flex-row items-center">
      <h2 class="text-4xl font-bold ml-3">DÉTAIL DU HÉRO</h2>
      <div class="flex items-center">
        <button (click)="updateFavorite()" class="focus:outline-none ml-6">
          <svg xmlns="http://www.w3.org/2000/svg" [ngClass]="isFavorite ? 'text-yellow-500' : 'text-gray-400 hover:text-yellow-500 transition-colors duration-200' " width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        </button>
      </div>
    </div>
    <div class="text-2xl ml-10"><span class="font-bold">Nom: </span>{{ hero.name }}</div>
    <h2 class="text-4xl font-bold ml-3 mt-10"> COMPÉTENCES </h2>
    <div class="text-2xl ml-10 mt-2 flex flex-row gap-2 items-center">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-swords"><polyline points="14.5 17.5 3 6 3 3 6 3 17.5 14.5"/><line x1="13" x2="19" y1="19" y2="13"/><line x1="16" x2="20" y1="16" y2="20"/><line x1="19" x2="21" y1="21" y2="19"/><polyline points="14.5 6.5 18 3 21 3 21 6 17.5 9.5"/><line x1="5" x2="9" y1="14" y2="18"/><line x1="7" x2="4" y1="17" y2="20"/><line x1="3" x2="5" y1="19" y2="21"/></svg>
      <span class="font-bold">Attaque:</span>
      {{ hero.attack }}
      @if (currentWeapon) {
        + {{currentWeapon.damage}}
      }
    </div>
    <div class="text-2xl ml-10 flex flex-row gap-2 items-center">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
      <span class="font-bold">Vie :</span>
      {{ hero.health }}
    </div>
    <div class="text-2xl ml-10 flex flex-row gap-2 items-center">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield-plus"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="M9 12h6"/><path d="M12 9v6"/></svg>
      <span class="font-bold">Défense :</span>
      {{ hero.defense }}
    </div>
    @if (currentWeapon) {
      <div class="text-2xl ml-10 flex flex-row gap-2 items-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ruler"><path d="M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"/><path d="m14.5 12.5 2-2"/><path d="m11.5 9.5 2-2"/><path d="m8.5 6.5 2-2"/><path d="m17.5 15.5 2-2"/></svg>      <span class="font-bold">Portée :</span>
        {{ currentWeapon.range }}
      </div>
      <div class="text-2xl ml-10 flex flex-row gap-2 items-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rabbit"><path d="M13 16a3 3 0 0 1 2.24 5"/><path d="M18 12h.01"/><path d="M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3"/><path d="M20 8.54V4a2 2 0 1 0-4 0v3"/><path d="M7.612 12.524a3 3 0 1 0-1.6 4.3"/></svg>      <span class="font-bold">Rapidité :</span>
        {{ currentWeapon.speed }}
      </div>
    }

    <div class="flex justify-between mt-5">
      <!-- Suppr BTN -->
      <button class="btn btn-active btn-error mt-5 ml-10" onclick="my_modal_5.showModal()">Supprimer</button>
      <dialog id="my_modal_5" class="modal modal-bottom sm:modal-middle">
        <div class="modal-box">
          <h3 class="text-lg font-bold">ATTENTION</h3>
          <p class="py-4">Voulez vous vraiment supprimer le héros ?</p>
          <div class="modal-action">
            <form method="dialog" class="flex flex-row">
              <!-- if there is a button in form, it will close the modal -->
              <a [routerLink]="['/heroes']" class="flex items-center">
                <button type="button" class="btn btn-active btn-error mr-5" (click)="delete()">Supprimer</button>
              </a>
              <button class="btn">Close</button>
            </form>
          </div>
        </div>
      </dialog>

      <!-- Modifié BTN -->
      <a [routerLink]="['/heroeModif', hero.id]" class="flex items-center">
        <button type="button" class="btn btn-info mt-5 ml-10" (click)="goBack()">Modifier</button>
      </a>
    </div>
  }
  </div>
  <div class="flex flex-col">
    <!-- WEAPON CHOICE-->
    <div class="mt-10 ml-1.5 rounded-2xl bg-base-300 items-center p-10 h-fit max-h-fit">
      <div class="flex flex-col items-center">
        @if (currentWeapon) {
          <h2 class="text-3xl font-bold ml-3">ARME DU HÉROS</h2>
          <div class="flex flex-col justify-center mt-5">
            <div class="flex flex-row">
              <p class="font-bold">{{currentWeapon.name}}</p>
              <div class="ml-2 badge badge-neutral p-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-swords"><polyline points="14.5 17.5 3 6 3 3 6 3 17.5 14.5"/><line x1="13" x2="19" y1="19" y2="13"/><line x1="16" x2="20" y1="16" y2="20"/><line x1="19" x2="21" y1="21" y2="19"/><polyline points="14.5 6.5 18 3 21 3 21 6 17.5 9.5"/><line x1="5" x2="9" y1="14" y2="18"/><line x1="7" x2="4" y1="17" y2="20"/><line x1="3" x2="5" y1="19" y2="21"/></svg><p class="font-bold text-xl ml-2">{{currentWeapon.damage}}</p></div>
              <div class="ml-2 badge badge-neutral p-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ruler"><path d="M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"/><path d="m14.5 12.5 2-2"/><path d="m11.5 9.5 2-2"/><path d="m8.5 6.5 2-2"/><path d="m17.5 15.5 2-2"/></svg><p class="font-bold text-xl ml-2">{{currentWeapon.range}}</p></div>
              <div class="ml-2 badge badge-neutral p-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rabbit"><path d="M13 16a3 3 0 0 1 2.24 5"/><path d="M18 12h.01"/><path d="M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3"/><path d="M20 8.54V4a2 2 0 1 0-4 0v3"/><path d="M7.612 12.524a3 3 0 1 0-1.6 4.3"/></svg><p class="font-bold text-xl ml-2">{{currentWeapon.speed}}</p></div>
            </div>
            <div class="flex flex-row justify-center mt-5">
              <button type="button" class="btn btn-active btn-error mr-5" (click)="unassignWeapon()">Retirer</button>
              <div class="dropdown dropdown-bottom flex flex-row justify-around">
                <div tabindex="0" role="button" class="btn btn-info m-1">Nouvelle arme</div>
                <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow">
                  @for (weapon of availableWeapons; track weapon.id;) {
                    <li (click)="onSelect(weapon)"><a>{{weapon.name}}</a></li>
                  }
                </ul>
              </div>
            </div>
          </div>
        } @else {
          <h2 class="text-3xl font-bold ml-3">Pas encore d'arme</h2>
          <div class="dropdown dropdown-bottom">
            <div tabindex="0" role="button" class="btn btn-info m-1">Assigner une arme</div>
            <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow">
              @for (weapon of availableWeapons; track weapon.id;) {
                <li (click)="onSelect(weapon)"><a>{{weapon.name}}</a></li>
              }
            </ul>
          </div>
        }
      </div>
    </div>

    <!-- HELMET CHOICE -->
    <div class="mt-10 ml-1.5 rounded-2xl bg-base-300 items-center p-10 h-fit max-h-fit">
      <div class="flex flex-col items-center">
        @if (currentHelmet) {
          <h2 class="text-3xl font-bold ml-3">CASQUE DU HÉROS</h2>
          <div class="flex flex-col justify-center mt-5">
            <div class="flex flex-row">
              <p class="font-bold">NOM DU CASQUE</p>
              <div class="ml-2 badge badge-neutral p-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-swords"><polyline points="14.5 17.5 3 6 3 3 6 3 17.5 14.5"/><line x1="13" x2="19" y1="19" y2="13"/><line x1="16" x2="20" y1="16" y2="20"/><line x1="19" x2="21" y1="21" y2="19"/><polyline points="14.5 6.5 18 3 21 3 21 6 17.5 9.5"/><line x1="5" x2="9" y1="14" y2="18"/><line x1="7" x2="4" y1="17" y2="20"/><line x1="3" x2="5" y1="19" y2="21"/></svg><p class="font-bold text-xl ml-2"></p></div>
              <div class="ml-2 badge badge-neutral p-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ruler"><path d="M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z"/><path d="m14.5 12.5 2-2"/><path d="m11.5 9.5 2-2"/><path d="m8.5 6.5 2-2"/><path d="m17.5 15.5 2-2"/></svg><p class="font-bold text-xl ml-2"></p></div>
              <div class="ml-2 badge badge-neutral p-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rabbit"><path d="M13 16a3 3 0 0 1 2.24 5"/><path d="M18 12h.01"/><path d="M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3"/><path d="M20 8.54V4a2 2 0 1 0-4 0v3"/><path d="M7.612 12.524a3 3 0 1 0-1.6 4.3"/></svg><p class="font-bold text-xl ml-2"></p></div>
            </div>
            <div class="flex flex-row justify-center mt-5">
              <button type="button" class="btn btn-active btn-error mr-5" (click)="unassignWeapon()">Retirer</button>
              <div class="dropdown dropdown-bottom flex flex-row justify-around">
                <div tabindex="0" role="button" class="btn btn-info m-1">Nouveau casque</div>
                <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow">

                </ul>
              </div>
            </div>
          </div>
        } @else {
          <h2 class="text-3xl font-bold ml-3">Pas encore de casque</h2>
          <div class="dropdown dropdown-bottom">
            <div tabindex="0" role="button" class="btn btn-info m-1">Nouveau casque</div>
            <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow">

            </ul>
          </div>
        }
      </div>
    </div>
  </div>
</div>
<button type="button" class="btn btn-active btn-success mt-5 ml-60 text-2xl" (click)="heroSelect()"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-check"><path d="M18 6 7 17l-5-5"/><path d="m22 10-7.5 7.5L13 16"/></svg> Jouer ce héro</button>

